<div align=center><img width="320" height="320" src="./md/hare_momotalk.png"/></div>

![maven](https://img.shields.io/badge/Python-3.8%2B-blue) 
![maven](https://img.shields.io/badge/OpenCV-4.10.0-yellow) 
![maven](https://img.shields.io/badge/pyQt-5.15.10-red)

# è§†é¢‘æ–‡å­—æ¸…é™¤å·¥å…·

****

â€œä»Šå¤©ï¼Œæ™´ä¼šä¿ä½‘ä½ ï¼Œä¸ç®¡å†™ä»€ä¹ˆä»£ç ï¼Œéƒ½ä¸ä¼šå‡ºç°æ¼æ´ã€‚â€ â€”â€” å°é’©æ™´ [ğŸ“¢](https://static.kivo.wiki/voices/students/%E5%B0%8F%E9%92%A9%20%E6%99%B4/guF8G61lNHMhqdeztHSHTAMMEmCG1qy1.ogg)

****

æ­¤é¡¹ç›®åŸºäº OpenCV å’Œ pyQt5 å¼€å‘ï¼Œç”¨äºæ¸…é™¤æ¸¸æˆå‰§æƒ…å½•å±ä¸­çš„å­—å¹•ï¼Œæ–¹ä¾¿æ±‰åŒ–

## ä¸‹è½½

[release](https://github.com/U1805/Hare/releases/tag/v1.1.1r) <- ä»è¿™é‡Œä¸‹è½½

ä¸‹è½½ `Hare.zip`ï¼Œè§£å‹å‹ç¼©åŒ…åä½ åº”è¯¥å¾—åˆ°ä¸‹é¢çš„æ–‡ä»¶ç»“æ„

```
Hare
â”œâ”€runtime
â”œâ”€site-packages
â”‚   â”œâ”€cv2
â”‚   â”œâ”€numpy
â”‚   â””â”€PyQt5
â”œâ”€resources
â”œâ”€ffmpeg.exe
â”œâ”€Hare.exe    <- åŒå‡»è¿è¡Œ
â”œâ”€Hare.int
â””â”€script.egg
```

## æ•ˆæœ

![blueaka](./md/blueaka.png)

![gukamas](./md/gakumas2.png)

## å¿«é€Ÿä¸Šæ‰‹

> ä¼˜å…ˆä½¿ç”¨ INPAINT_NS

1. åŠ è½½è§†é¢‘æ–‡ä»¶
   - ç‚¹å‡»å·¦ä¸Šè§’çš„ `æ–‡ä»¶` -> `é€‰æ‹©è§†é¢‘`ï¼Œæ‰“å¼€è§†é¢‘æ–‡ä»¶
   - åŠ è½½åï¼Œå¯ä»¥é€šè¿‡æ»‘åŠ¨è§†é¢‘ä¸Šæ–¹çš„è¿›åº¦æ¡é¢„è§ˆè§†é¢‘å†…å®¹
2. åˆ›å»ºä¿®å¤åŒºåŸŸ
   - åœ¨è§†é¢‘çš„å·¦ä¾§è§†é¢‘è¾“å…¥åŒºåŸŸï¼ŒæŒ‰ä½é¼ æ ‡å·¦é”®å¹¶æ‹–åŠ¨ï¼Œ  
   åˆ›å»ºçº¢è‰²çš„æ ‡è®°åŒºåŸŸï¼Œè¡¨ç¤ºéœ€è¦æ¶ˆé™¤çš„éƒ¨åˆ†
   - å¦‚æœæƒ³æŸ¥çœ‹å½“å‰å¸§çš„ä¿®å¤æ•ˆæœï¼Œå¯ä»¥ç‚¹å‡» `æµ‹è¯•å½“å‰å¸§`ï¼Œ  
   å³ä¾§è§†é¢‘è¾“å‡ºåŒºåŸŸæ˜¾ç¤ºæ•ˆæœ
3. è°ƒæ•´ä¿®å¤ç®—æ³•
   - åœ¨ `ä¿®å¤ç®—æ³•` ä¸­ï¼Œé€‰æ‹©åˆé€‚çš„ç®—æ³•è¿›è¡Œå¤„ç†ï¼š
      - **MASK**ï¼šæ©ç ç®—æ³•ï¼Œç”¨äºæµ‹è¯•éœ€è¦æ¶ˆé™¤çš„å¯¹è±¡ï¼Œ  
      è¯·ç¡®ä¿æ©ç å®Œå…¨è¦†ç›–ç›®æ ‡æ–‡å­—
      - **INPAINT**ï¼šINPAINT å¼€å¤´ä¸ºä¿®å¤ç®—æ³•ï¼Œ  
      ä¸é€æ˜/åŠé€æ˜èƒŒæ™¯å»ºè®® INPAINT_NSï¼Œ  
      é€æ˜é™æ€èƒŒæ™¯å»ºè®® INPAINT_FSR_FASTï¼Œ  
      é€æ˜åŠ¨æ€èƒŒæ™¯ç§å¯†é©¬èµ›æ²¡æœ‰å¥½åŠæ³•
   - åœ¨ `å‚æ•°è®¾ç½®` ä¸­ï¼Œè°ƒæ•´ä¿®å¤å‚æ•°ï¼š
      - **æœ€å°é¢ç§¯**ï¼šè®¾å®šè¿‡å°ä¼šå¯¼è‡´å™ªç‚¹ï¼Œè®¾å®šè¿‡å¤§ä¼š  
      æ¼æ‰å°å­—ç¬¦ï¼ˆå¦‚å¥å·ã€çœç•¥å·ç­‰ï¼‰
      - **æœ€å¤§é¢ç§¯**ï¼šè®¾å®šè¿‡å°ä¼šå¯¼è‡´éƒ¨åˆ†æ–‡å­—æ— æ³•æ£€æµ‹åˆ°ï¼Œ  
      è®¾å®šè¿‡å¤§åˆ™å¯èƒ½è¯¯é€‰ä¸­éæ–‡å­—åŒºåŸŸ
      - **æè¾¹**ï¼šå¯¹æ©ç åŒºåŸŸåŠ ç²—ï¼Œä»¥ç¡®ä¿å­—ç¬¦è¢«å®Œæ•´è¦†ç›–
4. è¿è¡Œä¿®å¤
   - è®¾ç½®å®Œæˆåï¼Œç‚¹å‡» `å¼€å§‹è¿è¡Œ` æŒ‰é’®ï¼Œå¼€å§‹è§†é¢‘
   - ä¿®å¤å®Œæˆåï¼Œå¤„ç†åçš„æ–‡ä»¶å°†ä¿å­˜åœ¨ä¸åŸè§†é¢‘ç›¸åŒçš„ç›®å½•ä¸‹ï¼Œ  
   æ–‡ä»¶åä»¥ output ç»“å°¾

## ç²¾ç¡®æ—¶é—´åŒºé—´ / å¤šåŒºåŸŸä¿®å¤

1. åŠ è½½å­—å¹•æ–‡ä»¶
   - åœ¨åŠ è½½è§†é¢‘æ–‡ä»¶åï¼Œç‚¹å‡» `æ–‡ä»¶` -> `é€‰æ‹©å­—å¹•`ï¼Œ  
   å¯¼å…¥å¯¹åº”çš„è§†é¢‘å­—å¹•æ–‡ä»¶
   - å¯¼å…¥å­—å¹•åï¼Œç•Œé¢ä¸‹æ–¹çš„è¡¨æ ¼åŒºåŸŸå°†æ ¹æ®å­—å¹•å†…å®¹è‡ªåŠ¨æ›´æ–°
2. æŒ‰è¯´è¯å¯¹è±¡åˆ›å»ºä¿®å¤åŒºåŸŸ
   - ç‚¹å‡»è¡¨æ ¼ä¸­çš„è¡Œæ ‡é¢˜å•å…ƒæ ¼ï¼Œç„¶ååœ¨å·¦ä¾§è§†é¢‘è¾“å…¥åŒºåˆ›å»ºçº¢è‰²ä¿®å¤åŒºåŸŸ
3. æŒ‰å­—å¹•æ—¶è½´ä¿®å¤
   - å½“å¼€å§‹è¿è¡Œæ—¶ï¼Œå°†ä»…ä¿®å¤å­—å¹•å¯¹åº”çš„æ—¶é—´åŒºé—´å†…çš„å¸§ï¼Œ  
   å¤„ç†æ¯ä¸ªä¿®å¤åŒºåŸŸå¯¹åº”çš„ä¿®å¤åŒºåŸŸã€‚

## è°ƒè¯•

1. ä¸‹è½½ä»£ç   
`git clone https://github.com/U1805/Hare.git --depth=1`
2. ä¸‹è½½ Python3.8 åµŒå…¥å¼ç¯å¢ƒï¼Œè§£å‹è·å¾— `runtime` ç›®å½•  
[Windows x86-64 embeddable zip file](https://www.python.org/downloads/release/python-380/)
1. è·å¾— Python3.8 å¯¹åº”çš„ä¾èµ–
   1. åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ `\path\to\py38\python.exe venv test`
   2. è¿›å…¥ Scripts ç›®å½•ï¼Œè¿è¡Œ `activate`
   3. pip å®‰è£…ä¾èµ– `opencv-contrib-python` `numpy` `PyQt5`
   4. åˆ° Lib/site-packages ç›®å½•å¤åˆ¶ä¾èµ–
2. æ–°å»º `site-packages` ç›®å½•ï¼Œå°†è·å¾—çš„ä¾èµ–å¤åˆ¶è¿›å»
3. è¿è¡Œ `./Hare.exe` æˆ–è€…åœ¨è™šæ‹Ÿç¯å¢ƒä¸­ `python ./Hare.int`

## TODO

- [ ] å¤šçº¿ç¨‹å¹¶å‘åŠ é€Ÿ
- [ ] æ›´å¥½çš„æ©ç ç®—æ³•
- [ ] æ›´å¥½çš„ä¿®å¤ç®—æ³•
  - [x] INPAINT_FSR_FAST
  - [x] INPAINT_FSR_BEST
- [x] å‚æ•°æŒä¹…åŒ–
- [x] å¤šåŒºåŸŸä¿®å¤
- [x] assæ—¶è½´å¯¼å…¥è·å–åŒºé—´
- [ ] å•å…ƒæ ¼ä¿®å¤çŠ¶æ€è®¾ç½®

## License

[MIT license](./LICENSE)

## æ„Ÿè°¢

- [FFmpeg](http://ffmpeg.org/) - ä¼Ÿå¤§ï¼Œæ— éœ€å¤šè¨€
- [skywind3000/PyStand](https://github.com/skywind3000/PyStand) - ğŸš€ è¶…æ–¹ä¾¿çš„ Python ç‹¬ç«‹éƒ¨ç½²ç¯å¢ƒ