<div align=center><img width="320" height="320" src="./md/hare_momotalk.png"/></div>

![maven](https://img.shields.io/badge/Python-3.8%2B-blue) 
![maven](https://img.shields.io/badge/OpenCV-4.10.0-yellow) 
![maven](https://img.shields.io/badge/pyQt-5.15.10-red)

# è§†é¢‘æ–‡å­—æ¸…é™¤å·¥å…·

****

â€œä»Šå¤©ï¼Œæ™´ä¼šä¿ä½‘ä½ ï¼Œä¸ç®¡å†™ä»€ä¹ˆä»£ç ï¼Œéƒ½ä¸ä¼šå‡ºç°æ¼æ´ã€‚â€ â€”â€” å°é’©æ™´ [â–¶ï¸](https://static.kivo.wiki/voices/students/%E5%B0%8F%E9%92%A9%20%E6%99%B4/guF8G61lNHMhqdeztHSHTAMMEmCG1qy1.ogg)

****

æ­¤é¡¹ç›®åŸºäº OpenCV å’Œ pyQt5 å¼€å‘ï¼Œç”¨äºæ¸…é™¤æ¸¸æˆå‰§æƒ…å½•å±ä¸­çš„å­—å¹•ï¼Œæ–¹ä¾¿æ±‰åŒ–

## ä¸‹è½½

[release](https://github.com/U1805/Hare/releases/latest) <- ä»è¿™é‡Œä¸‹è½½

ä¸‹è½½ `Hare.zip`ï¼Œè§£å‹å‹ç¼©åŒ…åä½ åº”è¯¥å¾—åˆ°ä¸‹é¢çš„æ–‡ä»¶ç»“æ„

```
Hare
â”œâ”€runtime
â”œâ”€site-packages
â”‚   â”œâ”€cv2
â”‚   â”œâ”€numpy
â”‚   â””â”€PyQt5
â”œâ”€resources
â”œâ”€ffmpeg.exe
â”œâ”€Hare.exe    <- åŒå‡»è¿è¡Œ
â”œâ”€Hare.int
â””â”€script.egg
```

## æ•ˆæœ

![blueaka](./md/blueaka.png)

![gukamas](./md/gakumas2.png)

## å¿«é€Ÿä¸Šæ‰‹

![region](./md/intro.png)

1. åŠ è½½è§†é¢‘æ–‡ä»¶
   - æ‰“å¼€æ–‡ä»¶ï¼šèœå•æ çš„ `æ–‡ä»¶` -> `é€‰æ‹©è§†é¢‘`
   - é¢„è§ˆè§†é¢‘ï¼šæ»‘åŠ¨æ§åˆ¶æ çš„è¿›åº¦æ¡é¢„è§ˆè§†é¢‘å†…å®¹
2. åŠ è½½æ—¶è½´æ–‡ä»¶
   - æ‰“å¼€æ–‡ä»¶ï¼šèœå•æ çš„ `æ–‡ä»¶` -> `é€‰æ‹©å­—å¹•`
3. åˆ›å»ºä¿®å¤åŒºåŸŸ
   - ç‚¹å‡»ä¸€ä¸ªè¡Œæ ‡é¢˜
   - åœ¨å·¦ä¾§è§†é¢‘è¾“å…¥åŒºåŸŸï¼ŒæŒ‰ä½é¼ æ ‡å·¦é”®å¹¶æ‹–åŠ¨
   - ä¸åŒçš„ä¿®å¤åŒºåŸŸçº¢æ¡†ä¸ä¼šåŒæ—¶æ˜¾ç¤º
   - ç®—æ³•é€‰æ‹© **MASK**ï¼Œç‚¹å‡» `æµ‹è¯•å½“å‰å¸§` 
4. é€‰æ‹©ä¿®å¤ç®—æ³•
   - ç®—æ³•é€‰æ‹© **INPAINT**ï¼Œç‚¹å‡» `æµ‹è¯•å½“å‰å¸§`
5. è¿è¡Œä¿®å¤ç®—æ³•
   - è®¾ç½®å®Œæˆåï¼Œç‚¹å‡» `å¼€å§‹è¿è¡Œ` æŒ‰é’®
   - ç»“æœæ–‡ä»¶åœ¨è§†é¢‘åŒç›®å½•ï¼Œæ–‡ä»¶åä»¥ output ç»“å°¾

## ç®—æ³•é€‰æ‹©
  
- **MASK**ï¼šæ©ç ç®—æ³•ï¼Œç”¨äºæµ‹è¯•éœ€è¦æ¶ˆé™¤çš„å¯¹è±¡ï¼Œ  
è¯·ç¡®ä¿æœ‰ç›®æ ‡æ–‡å­—æ—¶æ©ç å®Œå…¨è¦†ç›–ï¼Œæ²¡æœ‰æ–‡å­—æ—¶æ— æ©ç 
- **INPAINT**ï¼šINPAINT å¼€å¤´ä¸ºä¿®å¤ç®—æ³•ï¼Œ  
ä¸é€æ˜/åŠé€æ˜æ–‡æœ¬æ¡† -> INPAINT_NS (è€—æ—¶ 1.5x)ï¼Œ  
é€æ˜æ–‡æœ¬æ¡†é™æ€èƒŒæ™¯ -> INPAINT_FSR_PARA (è€—æ—¶ 5x)
- **AUTOSUB**ï¼šè‡ªåŠ¨æ‰“è½´ç®—æ³•

> ä¼˜å…ˆä½¿ç”¨ INPAINT_NS

## è‡ªåŠ¨æ‰“è½´

1. åŠ è½½è§†é¢‘æ–‡ä»¶
2. åˆ›å»ºä¿®å¤åŒºåŸŸ
3. é€‰æ‹©ç®—æ³•ï¼š**AUTOSUB**
4. å¼€å§‹è¿è¡Œ

## å…¶ä»–æ“ä½œ

- ä¿®å¤ç°è‰²æ–‡å­—ï¼Œéœ€è¦é¢å¤–åŒå‡»è¡Œæ ‡é¢˜é€‰æ‹©ç°è‰²
- åŒå‡»å•å…ƒæ ¼å¯ä»¥æ”¹å˜å•å…ƒæ ¼ä¿®å¤çŠ¶æ€

## è°ƒè¯•

1. ä¸‹è½½ä»£ç   
`git clone https://github.com/U1805/Hare.git --depth=1`
2. ä¸‹è½½ Python3.8 åµŒå…¥å¼ç¯å¢ƒï¼Œè§£å‹è·å¾— `runtime` ç›®å½•  
[Windows x86-64 embeddable zip file](https://www.python.org/downloads/release/python-380/)
1. è·å¾— Python3.8 å¯¹åº”çš„ä¾èµ–
   1. åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ `\path\to\py38\python.exe venv test`
   2. è¿›å…¥ Scripts ç›®å½•ï¼Œè¿è¡Œ `activate`
   3. pip å®‰è£…ä¾èµ– `opencv-contrib-python` `numpy` `PyQt5`
   4. åˆ° Lib/site-packages ç›®å½•å¤åˆ¶ä¾èµ–
2. æ–°å»º `site-packages` ç›®å½•ï¼Œå°†è·å¾—çš„ä¾èµ–å¤åˆ¶è¿›å»
3. è¿è¡Œ `./Hare.exe` æˆ–è€…åœ¨è™šæ‹Ÿç¯å¢ƒä¸­ `python ./Hare.int`

## TODO

- [ ] æ›´å¥½çš„æ©ç ç®—æ³•
  - [ ] æ£€æµ‹åˆ°åŠé€æ˜/æ¸éšçš„å­—
- [ ] æ›´å¥½çš„ä¿®å¤ç®—æ³•
  - [x] INPAINT_FSR_FAST
  - [x] INPAINT_FSR_BEST
  - [x] INPAINT_FSR_PARA (å¹¶å‘çš„FAST,é€Ÿåº¦çº¦å¿«ä¸€å€)

## License

[GNU license](./LICENSE)

## æ„Ÿè°¢

- [FFmpeg](http://ffmpeg.org/) - ä¼Ÿå¤§ï¼Œæ— éœ€å¤šè¨€
- [skywind3000/PyStand](https://github.com/skywind3000/PyStand) - ğŸš€ è¶…æ–¹ä¾¿çš„ Python ç‹¬ç«‹éƒ¨ç½²ç¯å¢ƒ